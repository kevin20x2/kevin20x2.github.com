
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>ZOJ3369  | ZVINK&#8217;s garden</title>

<meta name="author" content="ZVINK"> 

<meta name="description" content="Saving Princess Description Saving princesses is always a hard work. Ivan D'Ourack is planning to save the princess locked in the tower. However, n &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="ZVINK's garden" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>



<body>
	<header id="header" class="inner"><h1><a href="/">ZVINK&#8217;s garden</a></h1>
<h4>try</h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:kevin20x2.github.io">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner"><article class="post">
	<h2 class="title">ZOJ3369</h2>
	<div class="entry-content"><h2><a href="http://acm.hust.edu.cn/vjudge/problem/visitOriginUrl.action?id=13584">Saving Princess</a></h2>

<!--more-->


<h2>Description</h2>

<p>Saving princesses is always a hard work. Ivan D&#8217;Ourack is planning to save the princess locked in the tower. However, n dangerous monsters are guarding the road from the city where Ivan lives to the tower where the princess is locked.</p>

<p>Fortunately Ivan is a warrior and a magician. Thus he can defeat monsters in a fight, and enchant them to pass unnoticed.</p>

<p>Initially Ivan has h health points, strength s, spell power p and m mana points. To defeat i-th monster in a fight, he must have strength at least si, and he loses max(2si - s, 0) health points in a fight. If the number of health points becomes 0 or less, Ivan dies. After defeating a monster Ivan&rsquo;s strength increases by 1.</p>

<p>To enchant i-th monster Ivan must have spell power at least pi and he spends mi mana points to do it. If Ivan does not have mi mana points, he cannot enchant the monster. After enchanting the monster Ivan&rsquo;s spell power increases by 1.</p>

<p>Find out, whether Ivan can save princess, and if he can how to do it.</p>

<h2>Input</h2>

<p>The first line of the input file contains n, h, s, p and m (1 ≤ n ≤ 50, 1 ≤ h ≤ 50, 0 ≤ s, p, m ≤ 50). The following n lines contain three integer numbers each &mdash; si, pi, and mi (1 ≤ si, pi, mi ≤ 50).</p>

<p>There are multiple cases. Process to the end of file.</p>

<h2>Output</h2>

<p>If Ivan cannot save princess, output &ldquo;UNLUCKY&rdquo;. In the other case output n characters, the i-th character must be &rsquo;D&#8217; if Ivan must defeat the i-the monster, or &lsquo;E&rsquo; if he must enchant it.</p>

<h3>Sample Input</h3>

<p>3 12 5 5 6<br/>
5 5 2<br/>
6 5 2<br/>
6 7 3<br/>
3 11 5 5 6<br/>
5 5 2<br/>
6 5 2<br/>
6 7 3</p>

<h3>Sample Output</h3>

<p>DED<br/>
UNLUCKY</p>

<p>最好想的就是裸搜了 但是最差情况是2<sup>50</sup> 明显超时
注意到数据范围 50*50*50*50 明显比2<sup>50</sup>要小，而且具有不重复性。所以需要数组保存状态，也可以理解为dp。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="cp">#include&lt;cstdio&gt;</span>
</span><span class='line'><span class="cp">#include&lt;iostream&gt;</span>
</span><span class='line'><span class="cp">#include&lt;cstring&gt;</span>
</span><span class='line'><span class="cp">#include&lt;cmath&gt;</span>
</span><span class='line'><span class="cp">#include&lt;vector&gt;</span>
</span><span class='line'><span class="cp">#include&lt;algorithm&gt;</span>
</span><span class='line'><span class="k">typedef</span>  <span class="kt">long</span> <span class="kt">long</span> <span class="n">LL</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define clr(x) memset((x),0,sizeof(x))</span>
</span><span class='line'><span class="cp">#define inf 0x3f3f3f3f</span>
</span><span class='line'><span class="k">using</span> <span class="k">namespace</span>  <span class="n">std</span><span class="p">;</span>
</span><span class='line'><span class="kt">bool</span> <span class="n">dp</span><span class="p">[</span><span class="mi">55</span><span class="p">][</span><span class="mi">110</span><span class="p">][</span><span class="mi">55</span><span class="p">][</span><span class="mi">55</span><span class="p">];</span>
</span><span class='line'><span class="kt">int</span> <span class="n">s</span><span class="p">[</span><span class="mi">55</span><span class="p">];</span>
</span><span class='line'><span class="kt">int</span> <span class="n">p</span><span class="p">[</span><span class="mi">55</span><span class="p">];</span>
</span><span class='line'><span class="kt">int</span> <span class="n">m</span><span class="p">[</span><span class="mi">55</span><span class="p">];</span>
</span><span class='line'><span class="kt">char</span> <span class="n">ans</span><span class="p">[</span><span class="mi">55</span><span class="p">];</span>
</span><span class='line'><span class="kt">int</span> <span class="n">flag</span> <span class="p">;</span>
</span><span class='line'><span class="kt">int</span>  <span class="n">n</span><span class="p">,</span><span class="n">_h</span><span class="p">,</span><span class="n">_s</span><span class="p">,</span><span class="n">_p</span><span class="p">,</span><span class="n">_m</span><span class="p">;</span>
</span><span class='line'><span class="kt">void</span> <span class="nf">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">_h</span><span class="p">,</span><span class="kt">int</span> <span class="n">_s</span><span class="p">,</span><span class="kt">int</span> <span class="n">_p</span><span class="p">,</span><span class="kt">int</span> <span class="n">_m</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">_h</span><span class="p">][</span><span class="n">_s</span><span class="p">][</span><span class="n">_p</span><span class="p">][</span><span class="n">_m</span><span class="p">]</span><span class="o">!=</span><span class="mi">0</span><span class="o">||</span><span class="n">flag</span><span class="p">)</span> <span class="k">return</span> <span class="p">;</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">&gt;</span><span class="n">n</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">flag</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>        <span class="k">return</span> <span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">lost_hp</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">_s</span><span class="p">);</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">_s</span><span class="o">&gt;=</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="n">_h</span><span class="o">-</span><span class="n">lost_hp</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">ans</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;D&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">_h</span><span class="o">-</span><span class="n">lost_hp</span><span class="p">,</span><span class="n">_s</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">_p</span><span class="p">,</span><span class="n">_m</span><span class="p">);</span>
</span><span class='line'>        <span class="n">dp</span><span class="p">[</span><span class="n">_h</span><span class="o">-</span><span class="n">lost_hp</span><span class="p">][</span><span class="n">_s</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">_p</span><span class="p">][</span><span class="n">_m</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">flag</span> <span class="p">)</span> <span class="k">return</span> <span class="p">;</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">_p</span><span class="o">&gt;=</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="n">_m</span><span class="o">&gt;=</span><span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">ans</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;E&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">_h</span><span class="p">,</span><span class="n">_s</span><span class="p">,</span><span class="n">_p</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">_m</span><span class="o">-</span><span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span><span class='line'>        <span class="n">dp</span><span class="p">[</span><span class="n">_h</span><span class="p">][</span><span class="n">_s</span><span class="p">][</span><span class="n">_p</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">_m</span><span class="o">-</span><span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">while</span><span class="p">(</span><span class="o">~</span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d%d%d%d%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">,</span><span class="o">&amp;</span><span class="n">_h</span><span class="p">,</span><span class="o">&amp;</span><span class="n">_s</span><span class="p">,</span><span class="o">&amp;</span><span class="n">_p</span><span class="p">,</span><span class="o">&amp;</span><span class="n">_m</span><span class="p">))</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">flag</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d%d%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="o">&amp;</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="o">&amp;</span><span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="n">memset</span><span class="p">(</span><span class="n">dp</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="k">sizeof</span> <span class="n">dp</span><span class="p">);</span>
</span><span class='line'>        <span class="n">dfs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">_h</span><span class="p">,</span><span class="n">_s</span><span class="p">,</span><span class="n">_p</span><span class="p">,</span><span class="n">_m</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">){</span>
</span><span class='line'>            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>                <span class="n">putchar</span><span class="p">(</span><span class="n">ans</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span><span class='line'>        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>               <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">flag</span><span class="p">)</span>
</span><span class='line'>         <span class="n">puts</span><span class="p">(</span><span class="s">&quot;UNLUCKY&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-03-22T21:51:38+08:00" pubdate data-updated="true"></time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/dp/'>dp</a>

</div>


	
		<span class="comments"><a href="/blog/2015/03/22/zoj3369/#disqus_thread">Comments</a></span>
	
</div></article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
<!---	<a class="addthis_counter addthis_pill_style"></a> &#8212;>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h2 class="title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2018

    ZVINK

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'kevin20x2';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://kevin20x2.github.io/blog/2015/03/22/zoj3369/';
        var disqus_url = 'http://kevin20x2.github.io/blog/2015/03/22/zoj3369/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>
